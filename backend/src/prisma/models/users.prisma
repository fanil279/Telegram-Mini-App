enum Gender {

    MALE
    FEMALE

}

enum UserPlanType {

    FREE
    BRONZE
    SILVER
    GOLD
    PLATINUM

}

enum Role {

    USER
    MODERATOR
    ADMIN

}

model User {

    id BigInt @id @default(autoincrement())
    telegramId BigInt @unique

    gender Gender
    username String? @db.VarChar(32)
    fullName String @db.VarChar(64)
    bio String? @db.VarChar(70)

    isOnline Boolean @default(false)
    lastSeen DateTime?
    plan UserPlanType @default(FREE)
    role Role @default(USER)

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@index([telegramId, gender])


    photos UserPhoto[]
    preferences UserPreference[]
    senderTelegram Message[] @relation("SenderTelegramId")
    receiverTelegram Message[] @relation("ReceiverTelegramId")
    likesGiven Like[] @relation("LikesGiven")
    likesReceived Like[] @relation("LikesReceived")
    user1Matches Match[] @relation("User1Matches")
    user2Matches Match[] @relation("User2Matches")
    blockedByUsers Block[] @relation("BlockedByUsers")
    blockedUsers Block[] @relation("BlockedUsers")
    reportsMade Report[] @relation("ReporterId")
    reportsReceived Report[] @relation("ReportedId")
    reportsReviewed Report[] @relation("ReviewedBy")
    notifications Notification[]
    tgChannelSubscribers TgChannelSubscriber[]
    payments Payment[]
    subscriptions Subscription[]

}
