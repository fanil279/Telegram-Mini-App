enum NotificationType {

    MESSAGE
    ALERT
    REMINDER
    UPDATE

    @@map("notification_type")
    @@schema("base")

}

model Notification {

    id BigInt @id @default(autoincrement())

    user User @relation(fields: [userId], references: [id], onDelete: Cascade)
    userId BigInt @map("user_id")

    match Match? @relation(fields: [matchId], references: [id], onDelete: Cascade)
    matchId BigInt? @unique @map("match_id")

    like Like? @relation("LikeNotifications", fields: [likeId], references: [id], onDelete: Cascade)
    likeId BigInt? @unique @map("like_id")

    payment Payment? @relation("PaymentNotifications", fields: [paymentId], references: [id], onDelete: Cascade)
    paymentId BigInt?  @unique @map("payment_id")

    message Message? @relation("MessageNotification", fields: [messageId], references: [id], onDelete: Cascade)
    messageId BigInt? @unique @map("message_id")

    type NotificationType
    content String
    isRead Boolean @default(false) @map("is_read")

    createdAt DateTime @default(now()) @map("created_at")

    @@index([createdAt])

    @@map("notifications")

    @@schema("base")

}
